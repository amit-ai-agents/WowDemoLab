<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Wow Demo Factory — Catalog</title>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;800&display=swap" rel="stylesheet">

    <!-- Bootstrap 5 + Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

    <style>
        :root {
            --bg-dark: #0b0f17;
            --accent: #5ee6eb;
            --text-dim: rgba(0,0,0,0.6);
        }

        body {
            background: var(--bg-dark);
            color: #fff;
            font-family: 'Inter', sans-serif;
        }

        .page-header {
            padding: 4rem 0 2rem;
            text-align: center;
        }

            .page-header h1 {
                font-weight: 800;
                color: #fff;
                text-shadow: 0 6px 20px rgba(94,230,235,0.15);
            }

            .page-header p {
                color: var(--text-dim);
                font-size: 1.1rem;
            }

        /* Filters */
        .filters {
            background: rgba(255,255,255,0.05);
            border-radius: 1rem;
            backdrop-filter: blur(8px);
            padding: 1rem 1.5rem;
            margin-bottom: 2rem;
        }

        .btn-toggle-group .btn {
            border-radius: 30px;
            padding: 0.35rem 1rem;
            font-weight: 500;
        }

            .btn-toggle-group .btn.active {
                background: var(--accent);
                color: #000;
            }

        .dropdown-menu {
            max-height: 200px;
            overflow-y: auto;
            z-index: 2000;
        }

        /* Demo cards */
        .demo-card {
            background: #fff;
            color: #000;
            border-radius: 1rem;
            padding: 1.5rem;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            display: flex;
            flex-direction: column;
            height: 100%;
        }

            .demo-card:hover {
                transform: translateY(-4px);
                box-shadow: 0 16px 40px rgba(0,0,0,0.2);
            }

            .demo-card h5 {
                font-weight: 600;
                margin-bottom: 0.5rem;
                display: flex;
                align-items: center;
                gap: 0.5rem;
            }

            .demo-card p {
                font-size: 0.9rem;
                flex-grow: 1;
                color: #333;
            }

        .demo-tags span, .tech-tags span {
            font-size: 0.75rem;
            font-weight: 400;
            padding: 0.25rem 0.6rem;
            border-radius: 0.5rem;
            margin-right: 0.3rem;
            margin-bottom: 3px;
            display: inline-block;
            background: rgba(94,230,235,0.15);
            border: 1px solid rgba(94,230,235,0.3);
        }

        /* Live badge */
        .live-badge {
            position: absolute;
            top: 12px;
            right: 12px;
            background: rgba(255,0,0,0.1);
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .live-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: red;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%,50%,100% {
                opacity: 1;
            }

            25%,75% {
                opacity: 0;
            }
        }

        .demo-actions .btn {
            border-radius: 30px;
            font-size: 0.8rem;
            padding: 0.35rem 0.9rem;
        }

        .footnote {
            color: var(--text-dim);
            font-size: 0.85rem;
            text-align: center;
            margin-top: 3rem;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .filters .row > [class*="col-"] {
                margin-bottom: 0.75rem;
            }
        }
    </style>
</head>
<body>

    <header class="page-header">
        <div class="container">
            <h1>Catalog of Demos</h1>
            <p>Browse industry, domain, and AI-driven demos — each crafted to deliver a <span style="color:var(--accent)">Wow</span> moment for leadership.</p>
        </div>
    </header>

    <main class="container">
        <!-- Filters -->
        <div class="filters mb-4">
            <div class="row g-3 align-items-center">
                <div class="col-md-3 d-flex align-items-end gap-2">
                    <div>
                        <h6>Status</h6>
                        <div class="btn-toggle-group btn-group" role="group">
                            <button type="button" class="btn btn-outline-light active" data-status="all">All</button>
                            <button type="button" class="btn btn-outline-light" data-status="live">Live Only</button>
                        </div>
                    </div>
                    <div class="flex-grow-1">
                        <h6>Search</h6>
                        <input type="text" id="searchBox" class="form-control" placeholder="Search by name, description, or keywords...">
                    </div>
                </div>
                <div class="col-md-4">
                    <h6>Industry</h6>
                    <div class="dropdown">
                        <button class="btn btn-light dropdown-toggle w-100" type="button" data-bs-toggle="dropdown">Select Industries</button>
                        <ul class="dropdown-menu" id="industryFilter"></ul>
                    </div>
                </div>
                <div class="col-md-5">
                    <h6>Domain</h6>
                    <div class="dropdown">
                        <button class="btn btn-light dropdown-toggle w-100" type="button" data-bs-toggle="dropdown">Select Domains</button>
                        <ul class="dropdown-menu" id="domainFilter"></ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Demo Grid -->
        <div class="row" id="demoGrid"></div>

        <p class="footnote">Each demo is curated for simplicity, impact, and a clear leadership story.</p>
    </main>

    <!-- Quick View Modal -->
    <div class="modal fade" id="quickViewModal" tabindex="-1">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content rounded-4 shadow">
                <div class="modal-header">
                    <h5 class="modal-title fw-bold" id="quickViewTitle"></h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body"><p id="quickViewDescription"></p></div>
            </div>
        </div>
    </div>

    <!-- Customization Modal -->
    <div class="modal fade" id="customizationModal" tabindex="-1">
        <div class="modal-dialog modal-md modal-dialog-centered">
            <div class="modal-content rounded-4 shadow">
                <div class="modal-header">
                    <h5 class="modal-title fw-bold">Request Customization</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="customizationForm">
                        <div class="mb-3"><label class="form-label">Your Name</label><input type="text" class="form-control" required></div>
                        <div class="mb-3"><label class="form-label">Email</label><input type="email" class="form-control" required></div>
                        <div class="mb-3"><label class="form-label">Request Details</label><textarea class="form-control" rows="3" required></textarea></div>
                        <button type="submit" class="btn btn-primary w-100">Submit Request</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        let allDemos = [];

        $.getJSON("/static/data/demolist.json", function (data) {
            allDemos = data;
            buildFilters();
            renderDemos(allDemos);
        });

        function buildFilters() {
            const industries = [...new Set(allDemos.flatMap(d => d.industries))];
            const domains = [...new Set(allDemos.flatMap(d => d.domains))];

            industries.forEach(i => $("#industryFilter").append(
                `<li><div class="form-check px-3"><input class="form-check-input industry-check" type="checkbox" value="${i}" id="ind-${i}"><label class="form-check-label" for="ind-${i}">${i}</label></div></li>`
            ));
            domains.forEach(d => $("#domainFilter").append(
                `<li><div class="form-check px-3"><input class="form-check-input domain-check" type="checkbox" value="${d}" id="dom-${d}"><label class="form-check-label" for="dom-${d}">${d}</label></div></li>`
            ));
        }

        function renderDemos(demos) {
            let grid = $("#demoGrid"); grid.empty();
            demos.forEach(d => {
                const liveBadge = d.isLive ? `<div class="live-badge"><span class="live-dot"></span>Live</div>` : '';
                const industries = d.industries.map(i => `<span class="badge bg-info me-1">${i}</span>`).join('');
                const domains = d.domains.map(i => `<span class="badge bg-warning text-dark me-1">${i}</span>`).join('');
                const techStack = d.tech_stack ? d.tech_stack.split(',').map(t => `<span class="badge bg-light text-dark border me-1">${t.trim()}</span>`).join('') : '';
                const card = `
                <div class="col-md-6 col-lg-4 mb-4">
                  <div class="demo-card position-relative">
                    ${liveBadge}
                    <h5>${d.icon || '<i class="bi bi-box"></i>'} ${d.name}</h5>
                    <p>${d.description || ''}</p>
                    <div class="mb-2"><strong>Tech:</strong> ${techStack}</div>
                    <div class="mb-1"><strong>Industries:</strong> ${industries}</div>
                    <div class="mb-3"><strong>Domains:</strong> ${domains}</div>
                    <div class="demo-actions mt-auto d-flex gap-2">
                      <button class="btn btn-outline-dark btn-sm quickViewBtn" data-title="${d.name}" data-desc="${d.description}"><i class="bi bi-eye"></i> Quick View</button>
                      <button class="btn btn-outline-accent btn-sm customizationBtn"><i class="bi bi-pencil"></i> Customization</button>
                      <a href="${d.demoLink || '#'}" target="_blank" class="btn btn-primary btn-sm"><i class="bi bi-box-arrow-up-right"></i> Details</a>
                    </div>
                  </div>
                </div>`;
                grid.append(card);
            });
        }

        function applyFilters() {
            let filtered = allDemos;
            const status = $(".btn-toggle-group .btn.active").data("status");
            const selInd = $(".industry-check:checked").map((_, el) => el.value).get();
            const selDom = $(".domain-check:checked").map((_, el) => el.value).get();
            const searchText = $("#searchBox").val().toLowerCase();

            if (status === 'live') filtered = filtered.filter(d => d.isLive);
            if (selInd.length) filtered = filtered.filter(d => selInd.some(i => d.industries.includes(i)));
            if (selDom.length) filtered = filtered.filter(d => selDom.some(i => d.domains.includes(i)));
            if (searchText) filtered = filtered.filter(d =>
                d.name.toLowerCase().includes(searchText) ||
                d.description.toLowerCase().includes(searchText) ||
                (d.keywords || []).some(k => k.toLowerCase().includes(searchText))
            );

            renderDemos(filtered);
        }

        $(document).on("click", ".btn-toggle-group .btn", function () {
            $(this).addClass("active").siblings().removeClass("active");
            applyFilters();
        });

        $(document).on("change keyup", ".industry-check, .domain-check, #searchBox", applyFilters);

        $(document).on("click", ".quickViewBtn", function () {
            $("#quickViewTitle").text($(this).data("title"));
            $("#quickViewDescription").text($(this).data("desc"));
            new bootstrap.Modal(document.getElementById("quickViewModal")).show();
        });

        $(document).on("click", ".customizationBtn", function () {
            new bootstrap.Modal(document.getElementById("customizationModal")).show();
        });

        $("#customizationForm").submit(function (e) {
            e.preventDefault();
            alert("Customization request submitted!");
            bootstrap.Modal.getInstance(document.getElementById("customizationModal")).hide();
            this.reset();
        });
    </script>

</body>
</html>
